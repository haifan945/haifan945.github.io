import{_ as He,c as ie,o as We,a as c,b as h,y as D,w as n,O as G,e as o,d as t,r as v,$ as le,E as Ze,f as et,u as S,h as tt,l as b,t as u,F as P,m as L,C as lt,D as at,G as ot,J as ge,M as nt,N as ye,x as ue,I as st,j as _e,n as rt,P as it,V as ut,S as dt,T as ct,q as pt,s as vt,U as mt,Q as ft,R as gt,a0 as yt,a1 as _t,Y as wt,K as ae,X as xt,a2 as ht,a3 as bt}from"./index-dab368ea.js";/* empty css                   *//* empty css                       */import{s as F}from"./request-afa285ff.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                      *//* empty css                 *//* empty css                     */import{s as C,c as we}from"./message-f989d8e8.js";async function be(_,m){return F({url:`/exam-questions/category/${_}/level/${m}`,method:"GET"})}async function Ct(_){return F({url:`/exam-questions/category/${_}`,method:"GET"})}async function kt(_,m){try{const g=await be(_,m);return Array.isArray(g)?g.length:g&&Array.isArray(g.data)||g&&g.data&&Array.isArray(g.data)?g.data.length:0}catch(g){return console.error(`获取 ${_} ${m} 级题目数量失败:`,g),0}}async function xe(_){return F({url:"/exam-questions",method:"POST",data:_})}async function Vt(_,m){return F({url:`/exam-questions/${_}`,method:"PUT",data:m})}async function he(_){return F({url:`/exam-questions/${_}`,method:"DELETE"})}async function Et(_){return(await F({url:"/exam-papers",method:"GET",params:_})).data||[]}async function At(_){return F({url:"/exam-papers/generate",method:"POST",data:_})}const $t={class:"papers-container"},St={class:"main-category-container"},Tt={class:"main-category"},Dt={class:"main-category-title",style:{color:"#303133"}},Pt={class:"subcategory-grid"},Lt={class:"subcategory-content"},Nt={class:"subcategory-info"},Ut={class:"info-header"},zt={class:"level-info-section"},Ft={class:"level-range"},Rt={class:"info-value"},jt={class:"level-status-section"},Ot={class:"level-grid"},It=["onClick"],Bt={class:"level-status"},qt=["onClick"],Qt=["onClick"],Gt={class:"card-header"},Jt={class:"title-section"},Mt={class:"button-section"},Kt={class:"button-group"},Xt={class:"search-bar"},Yt=["onClick"],Ht={class:"action-buttons"},Wt={style:{padding:"20px 0","text-align":"center"}},Zt={style:{"margin-bottom":"20px"}},el={class:"dialog-footer",style:{width:"100%",display:"flex","justify-content":"center","padding-bottom":"10px"}},tl={style:{"margin-bottom":"20px",padding:"15px","background-color":"#f5f7fa","border-radius":"8px"}},ll={style:{display:"flex",gap:"30px","flex-wrap":"wrap"}},al={style:{"margin-bottom":"12px"}},ol={style:{"font-weight":"600",color:"#409eff","margin-right":"8px"}},nl={style:{"font-weight":"500"}},sl={key:0,style:{"margin-left":"30px","margin-bottom":"10px"}},rl={class:"option-letter"},il={style:{"margin-left":"30px",color:"#67c23a","font-weight":"500"}},ul={class:"dialog-footer"},dl={class:"explanation-content"},cl={class:"explanation-item"},pl={class:"explanation-text"},vl={class:"explanation-item"},ml={class:"explanation-text"},fl={key:0,class:"explanation-item"},gl={class:"explanation-options"},yl={class:"explanation-item"},_l={class:"explanation-text answer-text"},wl={class:"explanation-item"},xl={class:"explanation-text"},hl={class:"dialog-footer"},bl={class:"options-container"},Cl={style:{"font-weight":"bold"}},kl={class:"dialog-footer"},Vl={__name:"RealExam",setup(_){const m=v(!1),g=v(!1),R=v(!1),oe=v("新建题目"),N=v(1),j=v(10),U=v(null),J=v(null),W=v(!1),w=v({}),k=v(null),x=v(null),O=v([]),ne=v(null),Ce=v([]),M=v(!1),Z=v(!1),z=v(null),ke=v([]),Ve=v(!1),Ee=ie(()=>z.value?`${z.value.language_name||""} ${z.value.level_text||""} - 真题详情`:"真题详情"),K=v({title:""}),i=v({id:"",title:"",type:"choice",options:["","","",""],correctAnswer:"",explanation:""}),Ae={title:[{required:!0,message:"请输入题目",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],options:[{validator:(a,e,s)=>{i.value.type==="choice"&&e.some(r=>!r||r.trim()==="")?s(new Error("请填写所有选项")):s()},trigger:"blur"}],correctAnswer:[{required:!0,message:"请选择答案",trigger:"change"}]},V=v([]),ee=le({id:"real-exam",name:"真题管理",icon:"真题训练",color:"#673AB7",subcategories:[{name:"Scratch",icon:"Scratch",color:"#4CAF50",levels:4,levelDetails:le({1:0,2:0,3:0,4:0})},{name:"Python",icon:"Python",color:"#2196F3",levels:8,levelDetails:le({1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0})},{name:"C++",icon:"Cpp",color:"#FF9800",levels:10,levelDetails:le({1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0})}]}),de=ie(()=>{let a=V.value;return K.value.title&&(a=a.filter(e=>{var s;return(s=e.title)==null?void 0:s.includes(K.value.title)})),a}),$e=ie(()=>{const a=(N.value-1)*j.value,e=a+j.value;return de.value.slice(a,e)}),se=async()=>{try{if(m.value=!0,k.value&&x.value){let a=k.value.name.toLowerCase();if(a==="c++"&&(a="cpp"),x.value==="all"){const e=await Ct(a);V.value=e||[]}else{const e=await be(a,x.value.toString());V.value=e||[]}}else V.value=[]}finally{m.value=!1}},Se=a=>{j.value=a,N.value=1},Te=a=>{N.value=a},De=()=>{N.value=1},Pe=()=>{oe.value="新建题目",i.value={id:"",title:"",type:"choice",options:["","","",""],correctAnswer:"",explanation:""},U.value&&U.value.clearValidate(),R.value=!0},Le=()=>{J.value&&J.value.click()},Ne=async a=>{const e=a.target.files[0];if(e)try{const s=await e.text(),d=JSON.parse(s);let r=[];if(Array.isArray(d))r=d;else if(d.questions&&Array.isArray(d.questions))r=d.questions;else{C("JSON格式错误，必须是题目数组或包含questions字段的试卷格式","error");return}let f=0,y=0,$=(k.value?String(k.value.name):"").toLowerCase();$==="c++"&&($="cpp");let Y="";x.value&&typeof x.value=="string"?Y=x.value==="all"?"":x.value:x.value&&(Y=String(x.value));for(let H=0;H<r.length;H++){const E=r[H];try{const B={category:$,level:Y,type:String(E.type||"choice"),title:String(E.title),options:E.type==="choice"?E.options||["","","",""]:null,correctAnswer:String(E.correct_answer||E.correctAnswer||""),explanation:String(E.explanation||"")},q=await xe(B);V.value.unshift(q),f++}catch(B){console.error("导入题目失败:",B),y++}}f>0?C(`成功导入 ${f} 道题目${y>0?`，失败 ${y} 道`:""}`):C("导入失败","error"),await X()}catch(s){console.error("解析JSON文件失败:",s),C("JSON文件格式错误","error")}finally{J.value&&(J.value.value="")}},Ue=a=>{oe.value="编辑题目",i.value={id:a.id,title:a.title,type:a.type,options:a.type==="choice"?a.options||["","","",""]:[],correctAnswer:a.correctAnswer||a.correct_answer||"",explanation:a.explanation||""},U.value&&U.value.clearValidate(),R.value=!0},ze=a=>{w.value=a,W.value=!0},Fe=a=>{we("确定要删除该题目吗？").then(async()=>{try{m.value=!0,await he(a),V.value=V.value.filter(e=>e.id!==a),C("删除成功"),await X()}finally{m.value=!1}}).catch(()=>{})},Re=a=>{O.value=a},je=()=>{if(O.value.length===0){C("请先选择要删除的题目");return}we(`确定要删除选中的 ${O.value.length} 道题目吗？`).then(async()=>{try{m.value=!0;const a=O.value.map(e=>he(e.id));await Promise.all(a),C("批量删除成功"),O.value=[],await se(),await X()}finally{m.value=!1}}).catch(()=>{})},Oe=async()=>{U.value&&await U.value.validate(async a=>{if(a)try{m.value=!0;let e=k.value.name.toLowerCase();e==="c++"&&(e="cpp");const s={category:e,level:x.value==="all"?"1":x.value.toString(),type:i.value.type,title:i.value.title,options:i.value.type==="choice"?i.value.options:[],correctAnswer:i.value.correctAnswer,explanation:i.value.explanation};if(i.value.id){const d=await Vt(i.value.id,s),r=d.data||d,f=V.value.findIndex(y=>y.id===i.value.id);f!==-1&&(V.value[f]=r),C("编辑成功")}else{const d=await xe(s),r=d.data||d;V.value.unshift(r),C("创建成功")}R.value=!1}finally{m.value=!1}})},Ie=async(a,e)=>{var s,d,r;try{m.value=!0;const f=a.name;if(!e){C("请先选择级别","warning");return}let y=f;y==="C++"&&(y="cpp"),console.log("生成真题参数:",{category_name:y,language_name:f,level:parseInt(e),level_type:typeof parseInt(e)});const te=await At({category_name:y,language_name:f,level:parseInt(e)});C("真题生成成功"),M.value=!1,await X()}catch(f){console.error("生成真题失败:",f),console.error("错误详情:",(s=f.response)==null?void 0:s.data),C(((r=(d=f.response)==null?void 0:d.data)==null?void 0:r.msg)||f.message||"生成真题失败","error")}finally{m.value=!1}},Be=async(a,e)=>{try{const s=a.name,d={category_name:s,language_name:s};e!=="all"&&(d.level=e);const r=await Et(d);Ce.value=r,M.value=!0}catch(s){console.error("加载真题列表失败:",s),C("加载真题列表失败","error")}},qe=async(a,e)=>{console.log("点击真题管理按钮",a,e),k.value=a,x.value=e,await Be(a,e)},I=a=>String.fromCharCode(65+a),Qe=async(a,e)=>{console.log("点击级别按钮",a,e);const s=a.levelDetails[e];k.value=a,x.value=e,s===0?(V.value=[],g.value=!0):(await se(),g.value=!0)},Ge=async a=>{k.value=a,x.value="all",await se(),g.value=!0},Je=()=>{g.value=!1,M.value=!1,Z.value=!1,x.value=null,k.value=null};We(async()=>{await X()});const X=async()=>{try{m.value=!0,console.log("开始加载级别详情");for(const a of ee.subcategories){let e=a.name.toLowerCase();e==="c++"&&(e="cpp"),console.log(`加载 ${a.name} 的级别详情`);for(let s=1;s<=a.levels;s++){console.log(`获取 ${e} ${s} 级题目数量`);try{const d=await kt(e,s.toString()),r=Number(d)||0;console.log(`${a.name} ${s}级题目数量: ${r}`),a.levelDetails=Object.assign({},a.levelDetails,{[s]:r})}catch(d){console.error(`加载${a.name}${s}级数量失败:`,d),a.levelDetails=Object.assign({},a.levelDetails,{[s]:0})}}}console.log("级别详情加载完成"),console.log("realExamCategory:",ee)}catch(a){console.error("加载级别详情失败:",a),C("加载级别数据失败，请刷新页面","error")}finally{m.value=!1}};return(a,e)=>{var me;const s=rt,d=Ze,r=it,f=ut,y=dt,te=ct,$=pt,Y=vt,H=mt,E=ft,B=gt,q=et,Me=xt,ce=ht,Ke=bt,re=yt,pe=_t,ve=wt;return c(),h("div",$t,[g.value?G("",!0):(c(),D(d,{key:0,shadow:"hover"},{default:n(()=>[t("div",St,[t("div",Tt,[t("h2",Dt,[o(s,{class:"title-icon"},{default:n(()=>[o(S(tt))]),_:1}),b(" "+u(ee.name),1)]),t("div",Pt,[(c(!0),h(P,null,L(ee.subcategories,(l,p)=>(c(),D(d,{key:p,shadow:"hover",class:"subcategory-card",style:ae({borderLeft:`4px solid ${l.color}`,borderRadius:"12px",overflow:"hidden"})},{default:n(()=>[t("div",Lt,[t("div",{class:"subcategory-icon",style:ae({backgroundColor:`${l.color}20`,color:l.color})},[o(s,null,{default:n(()=>[o(S(_e))]),_:1})],4),t("div",Nt,[t("div",Ut,[t("h3",null,u(l.name),1)]),t("div",zt,[t("div",Ft,[e[17]||(e[17]=t("span",{class:"info-label"},"级别范围：",-1)),t("span",Rt,"1-"+u(l.levels)+"级",1)])]),t("div",jt,[e[20]||(e[20]=t("div",{class:"section-title"},"级别状态：",-1)),t("div",Ot,[(c(!0),h(P,null,L(l.levelDetails,(A,Q)=>(c(),h("div",{key:Q,class:ue(["level-item",{added:A>0,"not-added":A===0}]),onClick:T=>Qe(l,Q)},[t("div",{class:ue(["level-badge",{active:A>0}])},u(Q),3),t("div",Bt,u(A>0?"已添加":"未添加"),1)],10,It))),128)),t("div",{class:"level-item exam-paper",onClick:A=>qe(l,"all")},[...e[18]||(e[18]=[t("div",{class:"level-badge exam-badge"},"真",-1),t("div",{class:"level-status"},"真题管理",-1)])],8,qt),t("div",{class:"level-item all-levels",style:ae({borderColor:l.color,backgroundColor:l.color}),onClick:A=>Ge(l)},[t("div",{class:"level-badge",style:ae({backgroundColor:"white",color:l.color})}," 全 ",4),e[19]||(e[19]=t("div",{class:"level-status",style:{color:"white"}}," 全部 ",-1))],12,Qt)])])])])]),_:2},1032,["style"]))),128))])])])]),_:1})),g.value?(c(),D(d,{key:1,shadow:"hover"},{header:n(()=>{var l;return[t("div",Gt,[t("div",Jt,[t("span",{class:"page-title",onClick:Je,style:{cursor:"pointer"}},[o(s,{style:{"margin-right":"8px"}},{default:n(()=>[o(S(lt))]),_:1}),b(" "+u((l=k.value)==null?void 0:l.name)+" "+u(x.value==="all"?"全部":x.value)+"级 - 题目管理 ",1)])]),t("div",Mt,[t("div",Kt,[o(r,{type:"primary",onClick:Pe},{default:n(()=>[o(s,null,{default:n(()=>[o(S(at))]),_:1}),e[21]||(e[21]=t("span",null,"添加",-1))]),_:1}),o(r,{type:"success",onClick:Le},{default:n(()=>[o(s,null,{default:n(()=>[o(S(ot))]),_:1}),e[22]||(e[22]=t("span",null,"导入",-1))]),_:1}),o(r,{type:"danger",disabled:O.value.length===0,onClick:je},{default:n(()=>[o(s,null,{default:n(()=>[o(S(ge))]),_:1}),e[23]||(e[23]=t("span",null,"批量删除",-1))]),_:1},8,["disabled"])])])])]}),default:n(()=>[t("div",Xt,[o(te,{inline:!0,model:K.value},{default:n(()=>[o(y,{label:"题目"},{default:n(()=>[o(f,{modelValue:K.value.title,"onUpdate:modelValue":e[0]||(e[0]=l=>K.value.title=l),placeholder:"请输入题目",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),o(y,null,{default:n(()=>[o(r,{type:"success",onClick:De},{default:n(()=>[o(s,null,{default:n(()=>[o(S(nt))]),_:1}),e[24]||(e[24]=t("span",null,"搜索",-1))]),_:1})]),_:1})]),_:1},8,["model"])]),ye((c(),D(Y,{data:$e.value,style:{width:"100%"},onSelectionChange:Re},{default:n(()=>[o($,{type:"selection",width:"55",align:"center"}),o($,{label:"编号",width:"90"},{default:n(l=>[b(u((N.value-1)*j.value+l.$index+1),1)]),_:1}),o($,{prop:"title",label:"题目","min-width":"250","show-overflow-tooltip":""},{default:n(l=>[t("span",{class:"clickable-title",onClick:p=>ze(l.row)},u(l.row.title),9,Yt)]),_:1}),o($,{label:"题目类型",width:"120"},{default:n(l=>[b(u(l.row.type==="choice"?"单选题":l.row.type==="judgment"?"判断题":l.row.type),1)]),_:1}),o($,{label:"答案",width:"100",align:"center"},{default:n(l=>[t("span",{class:ue({answer:!0,correct:(l.row.correctAnswer||l.row.correct_answer)==="正确",incorrect:(l.row.correctAnswer||l.row.correct_answer)==="错误"})},u(l.row.type==="judgment"?(l.row.correctAnswer||l.row.correct_answer)==="正确"?"正确":(l.row.correctAnswer||l.row.correct_answer)==="错误"?"错误":l.row.correctAnswer||l.row.correct_answer||"-":l.row.correctAnswer||l.row.correct_answer||"-"),3)]),_:1}),o($,{label:"操作",width:"180",fixed:"right",align:"center"},{default:n(l=>[t("div",Ht,[o(r,{size:"small",onClick:p=>Ue(l.row)},{default:n(()=>[o(s,null,{default:n(()=>[o(S(st))]),_:1}),e[25]||(e[25]=t("span",null,"编辑",-1))]),_:1},8,["onClick"]),o(r,{size:"small",type:"danger",onClick:p=>Fe(l.row.id)},{default:n(()=>[o(s,null,{default:n(()=>[o(S(ge))]),_:1}),e[26]||(e[26]=t("span",null,"删除",-1))]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[ve,m.value]]),o(H,{"current-page":N.value,"onUpdate:currentPage":e[1]||(e[1]=l=>N.value=l),"page-size":j.value,"onUpdate:pageSize":e[2]||(e[2]=l=>j.value=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:de.value.length,onSizeChange:Se,onCurrentChange:Te,style:{"margin-top":"20px","text-align":"right"}},null,8,["current-page","page-size","total"])]),_:1})):G("",!0),o(q,{modelValue:M.value,"onUpdate:modelValue":e[5]||(e[5]=l=>M.value=l),title:`${((me=k.value)==null?void 0:me.name)||""} - 真题管理`,width:"400px",center:""},{footer:n(()=>[t("span",el,[o(r,{type:"success",loading:m.value,onClick:e[4]||(e[4]=l=>Ie(k.value,ne.value)),size:"large",style:{padding:"15px 40px","font-size":"16px"}},{default:n(()=>[o(s,null,{default:n(()=>[o(S(_e))]),_:1}),e[28]||(e[28]=t("span",{style:{"margin-left":"8px"}},"生成真题",-1))]),_:1},8,["loading"])])]),default:n(()=>[t("div",Wt,[t("div",Zt,[e[27]||(e[27]=t("span",{style:{"font-weight":"600","margin-right":"15px"}},"选择级别：",-1)),o(B,{modelValue:ne.value,"onUpdate:modelValue":e[3]||(e[3]=l=>ne.value=l),placeholder:"请选择级别",style:{width:"180px"},size:"large"},{default:n(()=>{var l;return[(c(!0),h(P,null,L(Object.keys(((l=k.value)==null?void 0:l.levelDetails)||{}),p=>(c(),D(E,{key:p,label:`${p}级`,value:p},null,8,["label","value"]))),128))]}),_:1},8,["modelValue"])])])]),_:1},8,["modelValue","title"]),o(q,{modelValue:Z.value,"onUpdate:modelValue":e[7]||(e[7]=l=>Z.value=l),title:Ee.value,width:"900px"},{footer:n(()=>[t("span",ul,[o(r,{onClick:e[6]||(e[6]=l=>Z.value=!1)},{default:n(()=>[...e[34]||(e[34]=[b("关闭",-1)])]),_:1})])]),default:n(()=>{var l,p,A,Q;return[ye((c(),h("div",null,[t("div",tl,[t("div",ll,[t("div",null,[e[29]||(e[29]=t("strong",null,"级别：",-1)),b(u((l=z.value)==null?void 0:l.level_text),1)]),t("div",null,[e[30]||(e[30]=t("strong",null,"选择题：",-1)),b(u((p=z.value)==null?void 0:p.choice_count)+"道 ",1)]),t("div",null,[e[31]||(e[31]=t("strong",null,"判断题：",-1)),b(u((A=z.value)==null?void 0:A.judgment_count)+"道 ",1)]),t("div",null,[e[32]||(e[32]=t("strong",null,"总题数：",-1)),b(u((Q=z.value)==null?void 0:Q.total_count)+"道 ",1)])])]),(c(!0),h(P,null,L(ke.value,(T,Xe)=>(c(),h("div",{key:T.id,style:{"margin-bottom":"25px",padding:"15px",border:"1px solid #e4e7ed","border-radius":"8px"}},[t("div",al,[t("span",ol,u(Xe+1)+".",1),t("span",nl,u(T.title),1),o(Me,{type:T.type==="choice"?"primary":"success",size:"small",style:{"margin-left":"10px"}},{default:n(()=>[b(u(T.type==="choice"?"单选题":"判断题"),1)]),_:2},1032,["type"])]),T.type==="choice"?(c(),h("div",sl,[(c(!0),h(P,null,L(T.options,(Ye,fe)=>(c(),h("div",{key:fe,style:{"margin-bottom":"6px"}},[t("span",rl,u(I(fe))+".",1),t("span",null,u(Ye),1)]))),128))])):G("",!0),t("div",il,[e[33]||(e[33]=t("span",null,"正确答案：",-1)),t("span",null,u(T.correct_answer||T.correctAnswer),1)])]))),128))])),[[ve,Ve.value]])]}),_:1},8,["modelValue","title"]),o(q,{modelValue:W.value,"onUpdate:modelValue":e[9]||(e[9]=l=>W.value=l),title:"题目解析",width:"600px"},{footer:n(()=>[t("span",hl,[o(r,{onClick:e[8]||(e[8]=l=>W.value=!1)},{default:n(()=>[...e[40]||(e[40]=[b("关闭",-1)])]),_:1})])]),default:n(()=>[t("div",dl,[t("div",cl,[e[35]||(e[35]=t("span",{class:"explanation-label"},"题目：",-1)),t("span",pl,u(w.value.title),1)]),t("div",vl,[e[36]||(e[36]=t("span",{class:"explanation-label"},"类型：",-1)),t("span",ml,u(w.value.type==="choice"?"单选题":w.value.type==="judgment"?"判断题":w.value.type),1)]),w.value.type==="choice"?(c(),h("div",fl,[e[37]||(e[37]=t("span",{class:"explanation-label"},"选项：",-1)),t("div",gl,[(c(!0),h(P,null,L(w.value.options,(l,p)=>(c(),h("div",{key:p,class:"explanation-option"},u(I(p))+". "+u(l),1))),128))])])):G("",!0),t("div",yl,[e[38]||(e[38]=t("span",{class:"explanation-label"},"答案：",-1)),t("span",_l,u(w.value.type==="judgment"?(w.value.correct_answer||w.value.correctAnswer)==="正确"?"正确":(w.value.correct_answer||w.value.correctAnswer)==="错误"?"错误":w.value.correct_answer||w.value.correctAnswer:w.value.correct_answer||w.value.correctAnswer),1)]),t("div",wl,[e[39]||(e[39]=t("span",{class:"explanation-label"},"解析：",-1)),t("span",xl,u(w.value.explanation||"暂无解析"),1)])])]),_:1},8,["modelValue"]),o(q,{modelValue:R.value,"onUpdate:modelValue":e[16]||(e[16]=l=>R.value=l),title:oe.value,width:"900px"},{footer:n(()=>[t("span",kl,[o(r,{onClick:e[15]||(e[15]=l=>R.value=!1)},{default:n(()=>[...e[43]||(e[43]=[b("取消",-1)])]),_:1}),o(r,{type:"primary",onClick:Oe},{default:n(()=>[...e[44]||(e[44]=[b("确定",-1)])]),_:1})])]),default:n(()=>[o(te,{model:i.value,rules:Ae,ref_key:"topicFormRef",ref:U,"label-width":"100px",style:{width:"100%"}},{default:n(()=>[o(y,{label:"题目",prop:"title"},{default:n(()=>[o(f,{modelValue:i.value.title,"onUpdate:modelValue":e[10]||(e[10]=l=>i.value.title=l),type:"textarea",rows:3,placeholder:"请输入题目"},null,8,["modelValue"])]),_:1}),o(y,{label:"题目类型",prop:"type"},{default:n(()=>[o(B,{modelValue:i.value.type,"onUpdate:modelValue":e[11]||(e[11]=l=>i.value.type=l),placeholder:"请选择题目类型"},{default:n(()=>[o(E,{label:"单选题",value:"choice"}),o(E,{label:"判断题",value:"judgment"})]),_:1},8,["modelValue"])]),_:1}),i.value.type==="choice"?(c(),D(y,{key:0,label:"选项",prop:"options"},{default:n(()=>[t("div",bl,[(c(!0),h(P,null,L(i.value.options,(l,p)=>(c(),h("div",{key:p,style:{"margin-bottom":"8px"}},[o(Ke,{type:"flex",align:"middle"},{default:n(()=>[o(ce,{span:1},{default:n(()=>[t("span",Cl,u(I(p))+".",1)]),_:2},1024),o(ce,{span:23},{default:n(()=>[o(f,{modelValue:i.value.options[p],"onUpdate:modelValue":A=>i.value.options[p]=A,placeholder:"请输入选项"+I(p)+"内容"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1})):G("",!0),o(y,{label:"答案",prop:"correctAnswer"},{default:n(()=>[i.value.type==="choice"?(c(),D(pe,{key:0,modelValue:i.value.correctAnswer,"onUpdate:modelValue":e[12]||(e[12]=l=>i.value.correctAnswer=l)},{default:n(()=>[(c(!0),h(P,null,L(i.value.options,(l,p)=>(c(),D(re,{key:p,label:I(p)},{default:n(()=>[b(u(I(p))+". "+u(l),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])):i.value.type==="judgment"?(c(),D(pe,{key:1,modelValue:i.value.correctAnswer,"onUpdate:modelValue":e[13]||(e[13]=l=>i.value.correctAnswer=l)},{default:n(()=>[o(re,{label:"正确"},{default:n(()=>[...e[41]||(e[41]=[b("正确",-1)])]),_:1}),o(re,{label:"错误"},{default:n(()=>[...e[42]||(e[42]=[b("错误",-1)])]),_:1})]),_:1},8,["modelValue"])):G("",!0)]),_:1}),o(y,{label:"解析"},{default:n(()=>[o(f,{modelValue:i.value.explanation,"onUpdate:modelValue":e[14]||(e[14]=l=>i.value.explanation=l),type:"textarea",rows:3,placeholder:"请输入解析"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),t("input",{type:"file",ref_key:"topicFileInputRef",ref:J,accept:".json",style:{display:"none"},onChange:Ne},null,544)])}}},Fl=He(Vl,[["__scopeId","data-v-b329ac1f"]]);export{Fl as default};
